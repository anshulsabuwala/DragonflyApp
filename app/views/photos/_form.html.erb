<%= form_for @photo do |f| %>
	<%= render 'shared/errors', object: @photo %>
  <div class="form-group">
    <%= f.label :title %>
    <%= f.text_field :title, class: 'form-control', required: true %>
  </div>
 
  <div class="form-group">
    <%= f.label :image %>
    <%= f.file_field :image, :id => "filePhoto", required: true %>
  </div>

  <div class="form-group">
  	<img id="imgPreview"/>
	</div>
 
  <%= f.submit 'Submit', class: 'btn btn-primary btn-lg' %>
<% end %>

<script>
  
  var imageLoader = document.getElementById('filePhoto');
      imageLoader.addEventListener('change', handleImage, false);
  function handleImage(e) {
      var reader = new FileReader();
      reader.onload = function (event) {
          $('#imgPreview').attr('src',event.target.result);
      }
      reader.readAsDataURL(e.target.files[0]);
  }

</script>
